# è´¡çŒ®æŒ‡å— | Contributing Guide

æ„Ÿè°¢æ‚¨å¯¹"å¿ƒåŠ¨æ—¥è®°ï½œLove Diary"é¡¹ç›®çš„å…´è¶£ï¼æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼Œæ— è®ºæ˜¯ä»£ç ã€æ–‡æ¡£ã€è®¾è®¡è¿˜æ˜¯åé¦ˆå»ºè®®ã€‚

## ğŸ¤ è´¡çŒ®æ–¹å¼

### ğŸ› æŠ¥å‘ŠBug
å¦‚æœæ‚¨å‘ç°äº†æ¸¸æˆä¸­çš„é”™è¯¯ï¼Œè¯·ï¼š
1. æŸ¥çœ‹ [Issues](https://github.com/ForceMind/Love-Diary/issues) ç¡®è®¤é—®é¢˜æœªè¢«æŠ¥å‘Š
2. åˆ›å»ºæ–°çš„Issueï¼Œè¯¦ç»†æè¿°é—®é¢˜
3. æä¾›å¤ç°æ­¥éª¤å’Œç¯å¢ƒä¿¡æ¯

### âœ¨ åŠŸèƒ½å»ºè®®
å¯¹æ¸¸æˆæœ‰æ–°çš„æƒ³æ³•ï¼Ÿ
1. åœ¨Issuesä¸­åˆ›å»ºåŠŸèƒ½è¯·æ±‚
2. è¯¦ç»†æè¿°åŠŸèƒ½éœ€æ±‚å’Œé¢„æœŸæ•ˆæœ
3. è®¨è®ºå®ç°æ–¹æ¡ˆçš„å¯è¡Œæ€§

### ğŸ’» ä»£ç è´¡çŒ®
å‡†å¤‡æäº¤ä»£ç ï¼Ÿè¯·éµå¾ªä»¥ä¸‹æµç¨‹ï¼š
1. Forké¡¹ç›®åˆ°æ‚¨çš„GitHubè´¦æˆ·
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. ç¼–å†™ä»£ç å¹¶æµ‹è¯•
4. æäº¤Pull Request

### ğŸ“ æ–‡æ¡£æ”¹è¿›
å¸®åŠ©å®Œå–„é¡¹ç›®æ–‡æ¡£ï¼š
- ä¿®å¤æ–‡æ¡£ä¸­çš„é”™è¯¯
- æ·»åŠ ä½¿ç”¨ç¤ºä¾‹
- æ”¹è¿›APIæ–‡æ¡£
- ç¿»è¯‘æ–‡æ¡£åˆ°å…¶ä»–è¯­è¨€

### ğŸ¨ è®¾è®¡è´¡çŒ®
è®¾è®¡ç›¸å…³çš„è´¡çŒ®ï¼š
- UI/UXä¼˜åŒ–å»ºè®®
- è§’è‰²ç«‹ç»˜è®¾è®¡
- ç•Œé¢å›¾æ ‡è®¾è®¡
- æ¸¸æˆèƒŒæ™¯éŸ³ä¹

## ğŸ“‹ å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼

#### JavaScriptè§„èŒƒ
```javascript
// ä½¿ç”¨é©¼å³°å‘½åæ³•
const gameEngine = new LoveDiaryGame();

// å‡½æ•°å‘½åæ¸…æ™°æ˜ç¡®
function updateCharacterRelationship(character, affection) {
    // å®ç°é€»è¾‘
}

// ä½¿ç”¨const/letè€Œä¸æ˜¯var
const GAME_VERSION = "2.0.0";
let currentPlayer = null;

// æ³¨é‡Šé‡è¦é€»è¾‘
/**
 * è®¡ç®—è§’è‰²å¥½æ„Ÿåº¦å˜åŒ–
 * @param {string} character - è§’è‰²åç§°
 * @param {number} change - å˜åŒ–å€¼
 * @returns {number} æ–°çš„å¥½æ„Ÿåº¦å€¼
 */
function calculateAffectionChange(character, change) {
    // å®ç°è®¡ç®—é€»è¾‘
}
```

#### CSSè§„èŒƒ
```css
/* ä½¿ç”¨BEMå‘½åçº¦å®š */
.modal__content {
    /* æ ·å¼è§„åˆ™ */
}

.modal__content--active {
    /* ä¿®é¥°ç¬¦æ ·å¼ */
}

/* å˜é‡å‘½åæ¸…æ™° */
:root {
    --primary-color: #ff8fab;
    --secondary-color: #ffb3c6;
}

/* æ³¨é‡Šé‡è¦æ ·å¼ */
/* æ¸¸æˆä¸»è‰²è°ƒæ¸å˜èƒŒæ™¯ */
.game-background {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
}
```

#### HTMLè§„èŒƒ
```html
<!-- è¯­ä¹‰åŒ–æ ‡ç­¾ -->
<main class="game-container">
    <section class="character-selection">
        <h2>é€‰æ‹©è§’è‰²</h2>
        <!-- è§’è‰²åˆ—è¡¨ -->
    </section>
</main>

<!-- é€‚å½“çš„æ³¨é‡Š -->
<!-- è§’è‰²äº’åŠ¨å¼¹çª— -->
<div id="character-modal" class="modal">
    <!-- å¼¹çª—å†…å®¹ -->
</div>
```

### æäº¤è§„èŒƒ

#### Commit Messageæ ¼å¼
ä½¿ç”¨[çº¦å®šå¼æäº¤](https://www.conventionalcommits.org/)æ ¼å¼ï¼š

```
<ç±»å‹>[å¯é€‰ èŒƒå›´]: <æè¿°>

[å¯é€‰ æ­£æ–‡]

[å¯é€‰ è„šæ³¨]
```

#### ç±»å‹è¯´æ˜
- `feat`: æ–°åŠŸèƒ½
- `fix`: Bugä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·ç›¸å…³

#### ç¤ºä¾‹
```bash
feat(character): æ·»åŠ æ–°è§’è‰²è§ç„¶çš„äº’åŠ¨åœºæ™¯

- æ–°å¢è§ç„¶çš„ä¸ªäººèµ„æ–™å’ŒèƒŒæ™¯æ•…äº‹
- æ·»åŠ 5ä¸ªä¸“å±äº’åŠ¨åœºæ™¯
- æ›´æ–°è§’è‰²é€‰æ‹©ç•Œé¢

Closes #23
```

### åˆ†æ”¯ç®¡ç†

#### åˆ†æ”¯å‘½åè§„èŒƒ
```bash
# åŠŸèƒ½åˆ†æ”¯
feature/character-interaction-system
feature/save-system-enhancement

# ä¿®å¤åˆ†æ”¯
fix/modal-display-issue
fix/character-relationship-bug

# æ–‡æ¡£åˆ†æ”¯
docs/api-documentation
docs/deployment-guide

# çƒ­ä¿®å¤åˆ†æ”¯
hotfix/critical-save-bug
```

#### åˆ†æ”¯å·¥ä½œæµ
```bash
# 1. ä»mainåˆ†æ”¯åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout main
git pull origin main
git checkout -b feature/new-character-system

# 2. å¼€å‘åŠŸèƒ½
# ... ç¼–å†™ä»£ç  ...

# 3. æäº¤æ›´æ”¹
git add .
git commit -m "feat(character): æ·»åŠ æ–°è§’è‰²ç³»ç»Ÿ"

# 4. æ¨é€åˆ†æ”¯
git push origin feature/new-character-system

# 5. åˆ›å»ºPull Request
```

## ğŸ” ä»£ç å®¡æŸ¥

### Pull Requestè§„èŒƒ

#### PRæ ‡é¢˜æ ¼å¼
```
[ç±»å‹] ç®€çŸ­æè¿°åŠŸèƒ½æˆ–ä¿®å¤å†…å®¹

ç¤ºä¾‹ï¼š
[Feature] æ·»åŠ è§’è‰²å¥½æ„Ÿåº¦ç³»ç»Ÿ
[Fix] ä¿®å¤å­˜æ¡£è¯»å–å¤±è´¥é—®é¢˜
[Docs] æ›´æ–°APIæ–‡æ¡£
```

#### PRæè¿°æ¨¡æ¿
```markdown
## ğŸ“ æè¿°
ç®€è¦æè¿°è¿™ä¸ªPRçš„ç›®çš„å’Œå†…å®¹

## ğŸ”„ å˜æ›´ç±»å‹
- [ ] Bugä¿®å¤
- [ ] æ–°åŠŸèƒ½
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] ä»£ç é‡æ„
- [ ] æ€§èƒ½ä¼˜åŒ–

## ğŸ“‹ å˜æ›´æ¸…å•
- [ ] æ·»åŠ äº†ä»€ä¹ˆåŠŸèƒ½
- [ ] ä¿®å¤äº†ä»€ä¹ˆé—®é¢˜
- [ ] æ›´æ–°äº†ä»€ä¹ˆå†…å®¹

## ğŸ§ª æµ‹è¯•
- [ ] åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] å…¼å®¹æ€§æµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡

## ğŸ“· æˆªå›¾/æ¼”ç¤º
å¦‚æœæœ‰UIå˜æ›´ï¼Œè¯·æä¾›æˆªå›¾æˆ–GIFæ¼”ç¤º

## ğŸ“š ç›¸å…³Issue
Closes #issueç¼–å·
```

### ä»£ç å®¡æŸ¥è¦ç‚¹

#### åŠŸèƒ½æ€§å®¡æŸ¥
- [ ] åŠŸèƒ½æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œ
- [ ] æ˜¯å¦æœ‰è¾¹ç•Œæƒ…å†µå¤„ç†
- [ ] é”™è¯¯å¤„ç†æ˜¯å¦å®Œå–„
- [ ] æ€§èƒ½æ˜¯å¦å¯æ¥å—

#### ä»£ç è´¨é‡å®¡æŸ¥
- [ ] ä»£ç é£æ ¼æ˜¯å¦ä¸€è‡´
- [ ] å‘½åæ˜¯å¦æ¸…æ™°
- [ ] æ³¨é‡Šæ˜¯å¦å……åˆ†
- [ ] æ˜¯å¦æœ‰é‡å¤ä»£ç 

#### å®‰å…¨æ€§å®¡æŸ¥
- [ ] è¾“å…¥éªŒè¯æ˜¯å¦å……åˆ†
- [ ] æ˜¯å¦æœ‰XSSé£é™©
- [ ] å­˜å‚¨æ•°æ®æ˜¯å¦å®‰å…¨

## ğŸ§ª æµ‹è¯•æŒ‡å—

### æµ‹è¯•ç±»å‹

#### åŠŸèƒ½æµ‹è¯•
```javascript
// æµ‹è¯•è§’è‰²å…³ç³»æ›´æ–°
function testCharacterRelationshipUpdate() {
    const game = new LoveDiaryGame();
    game.initGame();
    
    // æµ‹è¯•å¥½æ„Ÿåº¦å¢åŠ 
    game.updateCharacterRelationship('é¡¾è¨€', 10, 5);
    const relationship = game.getCharacterRelationship('é¡¾è¨€');
    
    console.assert(relationship.affection === 10, 'å¥½æ„Ÿåº¦æ›´æ–°å¤±è´¥');
    console.assert(relationship.trust === 5, 'ä¿¡ä»»åº¦æ›´æ–°å¤±è´¥');
}
```

#### ç•Œé¢æµ‹è¯•
```javascript
// æµ‹è¯•æ¨¡æ€çª—å£æ˜¾ç¤º
function testModalDisplay() {
    const game = new LoveDiaryGame();
    
    // æµ‹è¯•æ‰“å¼€æ¨¡æ€çª—å£
    game.openModal('character-creation-modal');
    const modal = document.getElementById('character-creation-modal');
    console.assert(modal.classList.contains('active'), 'æ¨¡æ€çª—å£æœªæ­£ç¡®æ˜¾ç¤º');
    
    // æµ‹è¯•å…³é—­æ¨¡æ€çª—å£
    game.closeModal('character-creation-modal');
    console.assert(!modal.classList.contains('active'), 'æ¨¡æ€çª—å£æœªæ­£ç¡®å…³é—­');
}
```

#### å­˜æ¡£æµ‹è¯•
```javascript
// æµ‹è¯•å­˜æ¡£åŠŸèƒ½
function testSaveLoad() {
    const game = new LoveDiaryGame();
    game.initGame();
    
    // è®¾ç½®æµ‹è¯•æ•°æ®
    game.gameState.playerName = 'æµ‹è¯•ç©å®¶';
    game.gameState.week = 3;
    
    // æµ‹è¯•ä¿å­˜
    const saveResult = game.saveGame();
    console.assert(saveResult === true, 'æ¸¸æˆä¿å­˜å¤±è´¥');
    
    // æµ‹è¯•åŠ è½½
    const newGame = new LoveDiaryGame();
    const loadResult = newGame.loadGame();
    console.assert(loadResult === true, 'æ¸¸æˆåŠ è½½å¤±è´¥');
    console.assert(newGame.gameState.playerName === 'æµ‹è¯•ç©å®¶', 'æ•°æ®åŠ è½½ä¸æ­£ç¡®');
}
```

### æµ‹è¯•æ¸…å•

#### æ–°åŠŸèƒ½æµ‹è¯•
- [ ] æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] è¾¹ç•Œæƒ…å†µå¤„ç†æ­£ç¡®
- [ ] é”™è¯¯æƒ…å†µæœ‰é€‚å½“æç¤º
- [ ] ç•Œé¢æ˜¾ç¤ºæ­£ç¡®
- [ ] ç§»åŠ¨ç«¯é€‚é…è‰¯å¥½

#### å›å½’æµ‹è¯•
- [ ] ç°æœ‰åŠŸèƒ½æœªå—å½±å“
- [ ] å­˜æ¡£å…¼å®¹æ€§æ­£å¸¸
- [ ] è§’è‰²äº’åŠ¨ç³»ç»Ÿæ­£å¸¸
- [ ] åœºæ™¯ç³»ç»Ÿæ­£å¸¸
- [ ] æˆå°±ç³»ç»Ÿæ­£å¸¸

#### å…¼å®¹æ€§æµ‹è¯•
- [ ] Chromeæµè§ˆå™¨
- [ ] Firefoxæµè§ˆå™¨
- [ ] Safariæµè§ˆå™¨
- [ ] Edgeæµè§ˆå™¨
- [ ] ç§»åŠ¨ç«¯æµè§ˆå™¨

## ğŸ“¦ å‘å¸ƒæµç¨‹

### ç‰ˆæœ¬å·è§„èŒƒ
ä½¿ç”¨[è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/)ï¼š
- `ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·`
- ä¸»ç‰ˆæœ¬å·ï¼šä¸å…¼å®¹çš„APIä¿®æ”¹
- æ¬¡ç‰ˆæœ¬å·ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ–°å¢
- ä¿®è®¢å·ï¼šå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

### å‘å¸ƒæ­¥éª¤
```bash
# 1. ç¡®ä¿åœ¨mainåˆ†æ”¯
git checkout main
git pull origin main

# 2. æ›´æ–°ç‰ˆæœ¬å·
# ç¼–è¾‘version.jsonå’Œpackage.json

# 3. æ›´æ–°CHANGELOG
# è®°å½•æœ¬ç‰ˆæœ¬çš„æ‰€æœ‰å˜æ›´

# 4. æäº¤ç‰ˆæœ¬æ›´æ–°
git add .
git commit -m "chore: å‘å¸ƒç‰ˆæœ¬v2.1.0"

# 5. åˆ›å»ºæ ‡ç­¾
git tag v2.1.0

# 6. æ¨é€åˆ°è¿œç¨‹
git push origin main --tags

# 7. åˆ›å»ºGitHub Release
# åœ¨GitHubä¸Šåˆ›å»ºæ–°çš„Release
```

## ğŸ¯ å¼€å‘ä»»åŠ¡

### å½“å‰ä¼˜å…ˆçº§ä»»åŠ¡
1. **é«˜ä¼˜å…ˆçº§**
   - Bugä¿®å¤
   - æ€§èƒ½ä¼˜åŒ–
   - å®‰å…¨é—®é¢˜

2. **ä¸­ä¼˜å…ˆçº§**
   - æ–°è§’è‰²æ·»åŠ 
   - åœºæ™¯æ‰©å±•
   - UI/UXæ”¹è¿›

3. **ä½ä¼˜å…ˆçº§**
   - åŠŸèƒ½å¢å¼º
   - ä»£ç é‡æ„
   - æ–‡æ¡£å®Œå–„

### å¾…å¼€å‘åŠŸèƒ½
- [ ] è¯­éŸ³ç³»ç»Ÿ
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] ä¸»é¢˜ç³»ç»Ÿ
- [ ] æ•°æ®ç»Ÿè®¡
- [ ] ç¤¾äº¤åˆ†äº«
- [ ] äº‘å­˜æ¡£

## ğŸ’¬ ç¤¾åŒºäº¤æµ

### è®¨è®ºæ¸ é“
- **GitHub Issues**: æŠ€æœ¯é—®é¢˜å’ŒåŠŸèƒ½è®¨è®º
- **GitHub Discussions**: ç¤¾åŒºäº¤æµå’Œæƒ³æ³•åˆ†äº«
- **Pull Requests**: ä»£ç å®¡æŸ¥å’ŒæŠ€æœ¯è®¨è®º

### äº¤æµç¤¼ä»ª
- ä¿æŒå‹å–„å’Œå°Šé‡
- æä¾›æœ‰å»ºè®¾æ€§çš„åé¦ˆ
- è¯¦ç»†æè¿°é—®é¢˜å’Œæƒ³æ³•
- è€å¿ƒç­‰å¾…å›å¤

## ğŸ† è´¡çŒ®è€…è®¤å¯

### è´¡çŒ®ç±»å‹è®¤å¯
- **ä»£ç è´¡çŒ®è€…**: æäº¤æœ‰æ•ˆPRçš„å¼€å‘è€…
- **é—®é¢˜æŠ¥å‘Šè€…**: æŠ¥å‘Šé‡è¦bugçš„ç”¨æˆ·
- **æ–‡æ¡£è´¡çŒ®è€…**: æ”¹è¿›æ–‡æ¡£çš„è´¡çŒ®è€…
- **è®¾è®¡è´¡çŒ®è€…**: æä¾›è®¾è®¡èµ„æºçš„åˆ›ä½œè€…
- **æµ‹è¯•è´¡çŒ®è€…**: å¸®åŠ©æµ‹è¯•çš„å¿—æ„¿è€…

### è´¡çŒ®è€…åˆ—è¡¨
æˆ‘ä»¬ä¼šåœ¨READMEä¸­ç»´æŠ¤è´¡çŒ®è€…åˆ—è¡¨ï¼Œæ„Ÿè°¢æ¯ä¸€ä½è´¡çŒ®è€…çš„ä»˜å‡ºï¼

## ğŸ“„ è®¸å¯è¯

é€šè¿‡ä¸ºæ­¤é¡¹ç›®åšè´¡çŒ®ï¼Œæ‚¨åŒæ„æ‚¨çš„è´¡çŒ®å°†åœ¨MITè®¸å¯è¯ä¸‹æˆæƒã€‚

---

ğŸ‰ **å†æ¬¡æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼æ‚¨çš„æ¯ä¸€ä»½åŠªåŠ›éƒ½è®©è¿™ä¸ªé¡¹ç›®å˜å¾—æ›´å¥½ï¼**

å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨Issuesä¸­æå‡ºæˆ–ç›´æ¥è”ç³»é¡¹ç›®ç»´æŠ¤è€…ã€‚
