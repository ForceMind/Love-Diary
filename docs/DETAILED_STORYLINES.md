# 心动日记 - 详细故事线规划文档

## 总体设计理念

### 故事线深度要求
- 单个角色互动总数：300-500个
- 对话数量：2000+个  
- 故事分为4个主要阶段，每个阶段20-25周
- 每周平均3-6个互动机会
- 根据玩家选择产生不同分支

### 时间线系统
- **认识阶段** (第1-4周)：初次相遇，建立基础印象
- **了解阶段** (第5-12周)：深入了解性格，建立友谊
- **发展阶段** (第13-20周)：感情升温，面临考验
- **结局阶段** (第21-24周)：最终选择，确定关系

---

## 林舟故事线 (计算机专业匹配)

### 角色设定强化
**基础信息**:
- 姓名：林舟
- 年龄：20岁  
- 专业：计算机科学与技术
- 性格：内向技术宅，但内心温柔善良
- 爱好：编程、算法竞赛、看技术博客、深夜coding
- 梦想：开发改变世界的软件，成为顶尖程序员
- 家庭：普通工薪家庭，父母希望他稳定就业
- 弱点：不善表达情感，容易沉迷技术忽略生活

### 第一阶段：初识相遇 (第1-4周) - 100个互动

#### 第1周：命定相遇
**星期日偶遇** - 计算机实验室
- **背景**：深夜实验室，林舟独自调试代码
- **初始对话选项** (10个):
  1. "你在做什么项目？看起来很复杂" → 好感+3，解锁技术话题
  2. "这么晚还在这里，要注意休息哦" → 好感+2，解锁关心话题  
  3. "我也是计算机系的，能帮上忙吗？" → 好感+4，解锁合作话题
  4. "抱歉打扰了，我先走了" → 好感+0，错过机会

**后续互动发展**:
- 如果选择帮助：林舟会详细解释项目，建立技术共鸣
- 如果选择关心：林舟会感动于有人关心，开始注意女主
- 如果选择同专业：林舟会惊喜找到同道中人，邀请未来合作

#### 第1周其他互动 (25个):
**星期一图书馆**:
- 再次相遇，林舟在看算法书籍
- 对话：讨论专业课程，分享学习心得
- 选择：是否一起学习 → 影响后续学习伙伴关系

**星期二实验课**:
- 同班发现，成为实验伙伴
- 对话：技术问题讨论，展现各自实力
- 选择：合作方式 → 影响团队配合默契

**星期三咖啡厅**:
- 意外相遇，林舟在调试移动端bug  
- 对话：工作与生活平衡的讨论
- 选择：建议他放松方式 → 影响生活态度

**星期四社团招新**:
- 编程社团，林舟担任技术指导
- 对话：兴趣爱好，未来规划
- 选择：是否加入社团 → 解锁社团剧情线

**星期五项目展示**:
- 林舟展示个人项目，寻求反馈
- 对话：创意讨论，用户体验建议
- 选择：反馈角度 → 影响他的开发理念

**星期六校园活动**:
- 科技节，林舟参加编程竞赛
- 对话：竞技压力，支持鼓励
- 选择：如何支持他 → 影响信任建立

#### 第2周：加深了解 (25个互动)
**日常互动模式建立**:
- 晨间图书馆偶遇 (3次)
- 午餐时间交流 (4次)  
- 实验课合作 (3次)
- 社团活动参与 (5次)
- 项目讨论会议 (4次)
- 课后散步聊天 (3次)
- 周末技术分享 (3次)

**重要剧情节点**:
- 林舟分享童年编程启蒙故事
- 讨论家庭背景和经济压力
- 第一次技术合作项目启动
- 建立固定学习时间和地点

#### 第3周：友谊建立 (25个互动)
**深度话题开启**:
- 人生理想与现实压力的冲突
- 技术人的情感表达困难
- 对未来职业规划的迷茫
- 家庭期望与个人梦想的平衡

**互动类型多样化**:
- 技术讨论 (8次)
- 生活分享 (6次)
- 学习互助 (5次)  
- 休闲活动 (4次)
- 情感支持 (2次)

#### 第4周：初步信任 (25个互动)
**关键事件**:
- 林舟遇到技术难题，女主提供不同视角帮助
- 女主面临学业困难，林舟主动提供技术支持
- 第一次深夜长谈，分享内心想法
- 建立了稳定的友谊基础

### 第二阶段：深入了解 (第5-12周) - 150个互动

#### 第5-6周：性格深度探索 (50个互动)
**林舟性格层面展现**:
- **表面**：内向、专注、技术宅
- **深层**：善良、细心、有责任感、渴望被理解
- **隐藏**：对感情的渴望、对未来的不安、对友情的珍视

**重要剧情发展**:
- 林舟第一次主动邀请女主参加校外技术聚会
- 分享自己的开源项目，寻求女主的意见和支持
- 开始关注女主的其他方面，不只是技术交流
- 展现出保护欲，在女主遇到困难时主动帮助

#### 第7-8周：情感萌芽期 (50个互动)
**关系质变**:
- 从单纯的技术伙伴发展为生活中的重要朋友
- 林舟开始注意女主的情绪变化，学会关心他人
- 女主成为林舟技术之外的重要话题和动力
- 两人建立了超越同学关系的特殊默契

**关键互动**:
- 林舟生病时，女主的悉心照顾让他感动
- 女主情绪低落时，林舟笨拙但真诚的安慰
- 第一次一起完成重要的课程项目
- 开始有了固定的"两人时间"

#### 第9-10周：关系考验期 (50个互动)
**冲突与成长**:
- 技术理念分歧引发的争论
- 时间分配问题导致的误会
- 其他人的介入带来的嫉妒情绪
- 对彼此期望的不匹配

**重要选择点**:
- 如何处理分歧：直接沟通 vs 冷战回避
- 面对误会：主动解释 vs 等待理解
- 他人介入：坚持友谊 vs 保持距离
- 期望管理：调整期待 vs 坚持原则

### 第三阶段：情感发展 (第13-20周) - 160个互动

#### 第13-15周：情感自觉期 (60个互动)
**林舟的情感觉醒**:
- 意识到对女主的感情超越了友谊
- 开始表现出独占欲和保护欲
- 在技术成就面前，更关心女主的感受
- 开始学习如何表达情感

**女主的感情选择**:
- 察觉到林舟的变化
- 反思自己对林舟的感情
- 面临其他角色的竞争
- 做出关系发展的选择

#### 第16-18周：表白与回应期 (60个互动)
**关键剧情**:
- 林舟准备表白的纠结过程
- 选择表白的时机和方式
- 女主的回应和处理方式
- 关系状态的确定或调整

**多种分支发展**:
- 接受表白：进入恋爱阶段
- 拒绝表白：保持友谊或冷淡
- 暂时搁置：给彼此时间思考
- 提出条件：设定关系发展条件

#### 第19-20周：关系稳定期 (40个互动)
**恋爱关系发展**:
- 学习如何做男女朋友
- 平衡学业与感情生活
- 面对外界的看法和压力
- 建立新的相处模式

### 第四阶段：结局选择 (第21-24周) - 90个互动

#### 第21-22周：未来规划期 (45个互动)
**面临的选择**:
- 毕业后的去向：深造 vs 就业
- 地理位置：本地 vs 异地
- 职业发展：稳定 vs 创业
- 感情发展：结婚 vs 暂缓

#### 第23-24周：最终决定期 (45个互动)
**四种结局走向**:

**完美结局**：技术创业成功，感情美满
- 条件：好感度90+，支持创业选择，技术能力认可
- 剧情：林舟创业成功，两人成为技术合伙人兼人生伴侣

**平凡结局**：稳定工作，平淡幸福
- 条件：好感度70+，选择稳定路线，重视生活平衡
- 剧情：进入大厂工作，生活稳定，感情平淡但真实

**分离结局**：理念不合，和平分手
- 条件：好感度50-，价值观冲突，缺乏理解
- 剧情：因为人生规划分歧分手，保持朋友关系

**遗憾结局**：错过彼此，留有遗憾
- 条件：好感度60-70，关键时刻的犹豫和错过
- 剧情：毕业后失去联系，多年后再次相遇已是物是人非

---

## 对话系统设计

### 对话分类与数量分配

#### 日常对话 (800个)
- 学习讨论：200个
- 生活分享：200个  
- 技术交流：200个
- 休闲聊天：200个

#### 深度对话 (600个)
- 价值观探讨：150个
- 未来规划：150个
- 情感表达：150个
- 人生哲学：150个

#### 冲突对话 (400个)
- 分歧争论：100个
- 误会澄清：100个
- 压力沟通：100个
- 选择讨论：100个

#### 关键对话 (200个)
- 告白场景：50个
- 重大决定：50个
- 危机处理：50个
- 结局对话：50个

### 对话示例

#### 日常技术讨论对话
**场景**：图书馆学习时
**林舟**："你觉得这个算法的时间复杂度怎么优化？"
**选项**：
A. "我觉得可以用动态规划试试" → 技术认可+2
B. "让我想想，给我点时间" → 谨慎思考+1  
C. "你教教我吧，我不太懂" → 信任建立+1
D. "这个太复杂了，换个简单的吧" → 可能降低技术信任-1

#### 深度情感对话
**场景**：深夜实验室，准备表白前
**林舟**："和你在一起的这段时间，是我大学里最快乐的时光..."
**选项**：
A. "我也是，你让我看到了技术之外的美好" → 情感共鸣+3
B. "我们确实是很好的伙伴呢" → 保持朋友界限+1
C. "林舟，你想说什么吗？" → 鼓励表达+2
D. 保持沉默，等他继续说 → 给予空间+1

### 选择系统影响

#### 即时影响
- 好感度变化：-2 到 +3
- 信任度变化：-1 到 +2  
- 特殊属性解锁：技术认同、情感理解、生活关心等

#### 长期影响
- 解锁特殊剧情线
- 影响重大选择的可用选项
- 决定结局类型和质量
- 改变其他角色的反应

---

## 其他角色故事线框架

### 宋云深 (文学专业匹配)
**核心主题**：诗意与现实的平衡
**故事重点**：文学梦想 vs 现实生活，浪漫主义 vs 实用主义
**互动特色**：诗歌创作、文学讨论、哲学思辨、情感表达

### 周弈辰 (商学专业匹配)  
**核心主题**：领导力与责任感
**故事重点**：个人成就 vs 团队利益，权力 vs 服务
**互动特色**：学生会活动、商业案例、领导决策、社交技巧

### 唐彦 (艺术专业匹配)
**核心主题**：创造力与自由精神
**故事重点**：艺术追求 vs 商业成功，个性 vs 妥协
**互动特色**：艺术创作、美学讨论、创意思维、感性表达

### 江澈 (医学专业匹配)
**核心主题**：治愈与责任
**故事重点**：救死扶伤理想 vs 现实压力，理性 vs 感性
**互动特色**：医学知识、人文关怀、生命思考、责任担当

---

## 实现技术要求

### 数据结构设计
```javascript
const CharacterStoryData = {
    LinZhou: {
        stages: [
            {
                name: "初识相遇",
                weeks: [1, 2, 3, 4],
                totalInteractions: 100,
                keyEvents: [...],
                dialogues: [...],
                choices: [...]
            },
            // 其他阶段...
        ],
        relationships: {
            affectionThresholds: [20, 50, 80, 100],
            trustThresholds: [15, 40, 70, 90],
            specialEvents: [...]
        },
        endings: [
            {
                name: "完美结局",
                requirements: {
                    affection: 90,
                    trust: 80,
                    choices: ["support_startup", "tech_partner"]
                },
                description: "..."
            }
            // 其他结局...
        ]
    }
    // 其他角色...
};
```

### 对话系统实现
```javascript
const DialogueSystem = {
    getDialogue: function(character, context, relationship) {
        // 根据角色、情境、关系状态返回适当对话
    },
    
    processChoice: function(character, choice, context) {
        // 处理玩家选择，更新关系状态
    },
    
    checkUnlocks: function(character, newState) {
        // 检查是否解锁新剧情或选项
    }
};
```

### 进度跟踪系统
```javascript
const ProgressTracker = {
    trackInteraction: function(character, type, week) {
        // 记录互动进度
    },
    
    calculateStageProgress: function(character) {
        // 计算当前阶段进度
    },
    
    predictEnding: function(character) {
        // 根据当前状态预测可能的结局
    }
};
```

这个详细的故事线设计确保了每个角色都有足够深度的内容，满足300-500个互动和2000+对话的要求，同时保持故事的连贯性和选择的意义性。
